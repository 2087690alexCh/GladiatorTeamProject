{% extends 'Spartacus/base.html' %}
{% load staticfiles %}

{% block title %}Avatar{% endblock %}
    
{% block body_block %}
	<div class="container">
	<div class="row">
		<div class="col-xs-12 col-md-4">
		<p><img  src="{{ MEDIA_URL }}{{ avatar.picture }}" alt = "{{ avatar.user.username }}" width = "300" height = "300"/><br /><p />
		<div class="progress" data-toggle="tooltip" title="Health amount in each battle" style="width: 300px">
			<div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
				Health = {{ health }}
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12" >
			 Cash:{{ avatar.cash }} gold
			</div>
		</div>
		<table class= table style="width: 300px">
		<tr><th  data-toggle="tooltip" data-placement="left" title="This is your name">Name:</th><td>{{ avatar.user.username }}</td></tr>
		<tr><th  data-toggle="tooltip" data-placement="left" title="Damage done to opponents">Attack:</th> <td>{{ avatar.attack }}</td></tr>
		<tr><th  data-toggle="tooltip" data-placement="left" title="Damage blocked from opponent attacks">Defence:</th> <td>{{ avatar.deffence }}</td></tr>
		<tr><th  data-toggle="tooltip" data-placement="left" title="Determines Avatar's health">Strength:</th> <td>{{ avatar.strength }}</td></tr>
		<tr><th  data-toggle="tooltip" data-placement="left" title="Determines chance to double hit opponent">Agility:</th> <td>{{ avatar.agility }}</td></tr>
		<tr><th  data-toggle="tooltip" data-placement="left" title="Determines chance to hit opponent">Intelligence:</th> <td>{{ avatar.intelligence }}</td></tr>
		<tr><th  data-toggle="tooltip" data-placement="left" title="The amount of wins you have">Victories:</th> <td>{{ avatar.victories }}</td></tr>
		<tr><th  data-toggle="tooltip" data-placement="left" title="The amount of points you have">Points:</th> <td>{{ avatar.points }}</td></tr>
		</table>
		</div>
		<div id="all_items">
			<div class="col-xs-12 col-md-6" >
				
				<div class="row">
					Equipted:
					<div class="row">
						<div class="col-xs-4 col-xs-offset-4">
							{% for item in equiped_items %}
								{% if item.item.itemType == "helmet"%}
									Helmet : <br/>
									<img src = "{{item.item.picture.url}}" width = "100" height = "100">
									<br/>
									{% if avatar.user == user %}
									<button class="unequip" data-itemid="{{item.id}}" type="button">Unequip</button>
									{% endif %}
								{% endif %}
								
								{% empty %}
									Helmet : <br/>
									<img src = "{% static "images/blank_item.jpg" %}" width = "100" height = "100">
									<br/>
								
							{% endfor %}
							
						</div>
					</div>
					<div class="row">
						<div class="col-xs-4 ">
							{% for item in equiped_items %}
								{% if item.item.itemType == "sword"%}
									Sword : <br/>
									<img src = "{{item.item.picture.url}}" width = "100" height = "100">
									<br/>
									{% if avatar.user == user %}
									<button class="unequip" data-itemid="{{item.id}}" type="button">Unequip</button>
									{% endif %}
									
								{% elif item.item.itemType != "sword" %}
								
								{% else %}
									Sword : <br/>
									<img src = "{% static "images/blank_item.jpg" %}" width = "100" height = "100">
									<br/>
								{% endif %}
							{% endfor %}
							
						</div>
						<div class="col-xs-4 ">
							{% for item in equiped_items %}
								{% if item.item.itemType == "armor"%}
									Armor : <br/>
									<img src = "{{item.item.picture.url}}" width = "100" height = "100">
									<br/>
									{% if avatar.user == user %}
									<button class="unequip" data-itemid="{{item.id}}" type="button">Unequip</button>
									{% endif %}	
								{% elif item.item.itemType != "armor" %}
								
								{% else %}
									Armor : <br/>
									<img src = "{% static "images/blank_item.jpg" %}" width = "100" height = "100">
									<br/>
								{% endif %}
							{% endfor %}
						</div>
						<div class="col-xs-4 ">
							{% for item in equiped_items %}
								{% if item.item.itemType == "shield"%}
									Shield : <br/>
									<img src = "{{item.item.picture.url}}" width = "100" height = "100">
									<br>
									{% if avatar.user == user %}
									<button class="unequip" data-itemid="{{item.id}}" type="button">Unequip</button>
									{% endif %}
									
								{% elif item.item.itemType != "shield" %}								
								
								{% else %}
									Shield : <br/>
									<img src = "{% static "images/blank_item.jpg" %}" width = "100" height = "100">
									<br/>
								{% endif %}
							{% endfor %}
						</div>
					</div>
					<div class="row">
						<div class="col-xs-4 col-xs-offset-4">
							{% for item in equiped_items %}
								{% if item.item.itemType == "boots" %}
									Boots : <br/>
									<img src = "{{item.item.picture.url}}" width = "100" height = "100">
									<br/>
									{% if avatar.user == user %}
									<button class="unequip" data-itemid="{{item.id}}" type="button">Unequip</button>
									
									{% endif %}
								{% elif item.item.itemType != "boots" %}
									
								{% else %}
									Boots : <br/>
									<img src = "{% static "images/blank_item.jpg" %}" width = "100" height = "100">
									<br/>
								{% endif %}
							{% endfor %}
							
						</div>
					</div>
				</div>
				
				
				
				
				<div class="row">
					<div class="col-xs-12">
						Inventory:<br />
						<ul>
						{% for item in inventory_items %}
							<li>
								{{ item.item.name }} : {{ item.item.attack }} attack , {{ item.item.deffence }} defence
									{% if avatar.user == user %}
										<button class="equip" data-itemid="{{item.id}}" type="button">Equip</button>
									{% endif %}
							</li>
						{% endfor %}
						</ul>
						<br />
                        <br />
                        <div align="center">
                        {% if avatar.user != user %}
                        <button onclick="location.href = '{% url 'battle' avatar.user.username%}';"  type="button" class="btn btn-danger">DESTROY</button>
                        {% endif %}
                        </div>
					</div>
				</div>
			</div>

		</div>
	</div>
	</div>
{% endblock %}
