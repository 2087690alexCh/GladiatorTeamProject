{% extends 'Spartacus/base.html' %}
{% load staticfiles %}

{% block title %}Battle{% endblock %}
    
{% block body_block %}
Battle<br />

{{you.user.username}} vs {{opponent.user.username}}<br />

{% if victory == 1 %}
    You won
{% elif victory == -1 %}
    You lost
{% else %}
    Tie fight
{% endif %}





    <div class="col-xs-4 col-xs-offset-4">
        {% for round in rounds %}
        <div class="panel panel-warning">
            <!-- Default panel contents -->
            <div class="panel-heading">Round {{ round.roundN }}</div>
            <div class="panel-body">
        </div>

        <!-- Table -->
        <table class="table">
            <tr><td>{{ you.user.username }}  hits {{opponent.user.username}}</td><td>{{opponent.user.username}} receives {{ round.youDamage }} damage </td></tr>
            <tr><td>{{opponent.user.username}} hits {{ you.user.username }}</td><td>{{ you.user.username }} receives {{ round.opponentDamage }} damage </td></tr>
            <tr><td>{{ you.user.username }}  critically hits {{opponent.user.username}}</td><td>{{opponent.user.username}} receives critical <strong>{{ round.youDamage }} damage</strong> </td></tr>
            <tr><td>{{opponent.user.username}} critically hit {{ you.user.username }}</td><td>{{ you.user.username }} receives critical <strong>{{ round.opponentDamage }} damage</strong> </td></tr>
            <tr><td>{{ you.user.username }} health after {{ round.roundN }} round: {{ round.youHealth }}</td><td>{{ opponent.user.username }} health after {{ round.roundN }} round: {{ round.opponentHealth }}</td></tr>
        </table>
    </div>
        {% endfor %}
    </div>

{% endblock %}


